// Package v1alpha1 provides primitives to interact with the openapi HTTP API.
//
// Code generated by github.com/oapi-codegen/oapi-codegen/v2 version v2.5.1 DO NOT EDIT.
package v1alpha1

import (
	"bytes"
	"compress/gzip"
	"encoding/base64"
	"fmt"
	"net/url"
	"path"
	"strings"

	"github.com/getkin/kin-openapi/openapi3"
)

// Base64 encoded, gzipped, json marshaled Swagger object
var swaggerSpec = []string{

	"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",
}

// GetSwagger returns the content of the embedded swagger specification file
// or error if failed to decode
func decodeSpec() ([]byte, error) {
	zipped, err := base64.StdEncoding.DecodeString(strings.Join(swaggerSpec, ""))
	if err != nil {
		return nil, fmt.Errorf("error base64 decoding spec: %w", err)
	}
	zr, err := gzip.NewReader(bytes.NewReader(zipped))
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}
	var buf bytes.Buffer
	_, err = buf.ReadFrom(zr)
	if err != nil {
		return nil, fmt.Errorf("error decompressing spec: %w", err)
	}

	return buf.Bytes(), nil
}

var rawSpec = decodeSpecCached()

// a naive cached of a decoded swagger spec
func decodeSpecCached() func() ([]byte, error) {
	data, err := decodeSpec()
	return func() ([]byte, error) {
		return data, err
	}
}

// Constructs a synthetic filesystem for resolving external references when loading openapi specifications.
func PathToRawSpec(pathToFile string) map[string]func() ([]byte, error) {
	res := make(map[string]func() ([]byte, error))
	if len(pathToFile) > 0 {
		res[pathToFile] = rawSpec
	}

	return res
}

// GetSwagger returns the Swagger specification corresponding to the generated code
// in this file. The external references of Swagger specification are resolved.
// The logic of resolving external references is tightly connected to "import-mapping" feature.
// Externally referenced files must be embedded in the corresponding golang packages.
// Urls can be supported but this task was out of the scope.
func GetSwagger() (swagger *openapi3.T, err error) {
	resolvePath := PathToRawSpec("")

	loader := openapi3.NewLoader()
	loader.IsExternalRefsAllowed = true
	loader.ReadFromURIFunc = func(loader *openapi3.Loader, url *url.URL) ([]byte, error) {
		pathToFile := url.String()
		pathToFile = path.Clean(pathToFile)
		getSpec, ok := resolvePath[pathToFile]
		if !ok {
			err1 := fmt.Errorf("path not found: %s", pathToFile)
			return nil, err1
		}
		return getSpec()
	}
	var specData []byte
	specData, err = rawSpec()
	if err != nil {
		return
	}
	swagger, err = loader.LoadFromData(specData)
	if err != nil {
		return
	}
	return
}
